// Package v1alpha1 provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package v1alpha1

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
